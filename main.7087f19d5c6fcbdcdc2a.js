"use strict";(self.webpackChunkSnake=self.webpackChunkSnake||[]).push([[179],{1087:function(t,e,n){n(4365),n(4389),n(3693),n(6762),n(438),n(7535),n(5843),n(9544),n(2557),n(3597),n(6774),n(4630),n(8404);function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(i=o.key,u=void 0,u=function(t,e){if("object"!==r(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(i,"string"),"symbol"===r(u)?u:String(u)),o)}var i,u}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.snake=document.querySelector("#snake"),this.head=document.getElementById("snakeHead"),this.body=this.snake.children}var e,n,r;return e=t,(n=[{key:"position",get:function(){return{x:this.head.offsetLeft,y:this.head.offsetTop}},set:function(t){var e=t.x,n=t.y,r=this.position,o=r.x,i=r.y;this.moveBody(),e!==o&&(this.head.style.left=e+"px"),n!==i&&(this.head.style.top=n+"px")}},{key:"grow",value:function(){this.snake.insertAdjacentHTML("beforeend","<div></div>")}},{key:"moveBody",value:function(){for(var t=this.body.length-1;t>0;t--){var e=this.body[t-1].offsetLeft,n=this.body[t-1].offsetTop;this.body[t].style.left=e+"px",this.body[t].style.top=n+"px"}}},{key:"isHeadCollideBody",value:function(t){return Array.from(this.body).some((function(e){var n=e.offsetLeft,r=e.offsetTop,o=t.x,i=t.y;return n===o&&r===i}))}}])&&o(e.prototype,n),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function u(t){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==u(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===u(i)?i:String(i)),r)}var o,i}var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element=document.getElementById("food")}var e,n,r;return e=t,(n=[{key:"position",get:function(){return{x:this.element.offsetLeft,y:this.element.offsetTop}},set:function(t){var e=t.x,n=t.y;this.element.style.left=e+"px",this.element.style.top=n+"px"}},{key:"changePosition",value:function(){this.position={x:10*Math.floor(30*Math.random()),y:10*Math.floor(30*Math.random())}}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(961);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==a(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}var y=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._score=0,this._level=1,this.upgradeInterval=10,this.maxLevel=10,this.scoreElement=document.getElementById("score"),this.levelElement=document.getElementById("level"),this.upgradeInterval=e,this.maxLevel=n}var e,n,r;return e=t,(n=[{key:"addScore",value:function(){this._score++,this.scoreElement.innerText=this._score.toString(),this._score%this.upgradeInterval==0&&this.addLevel()}},{key:"addLevel",value:function(){this._level!==this.maxLevel&&(this._level++,this.levelElement.innerText=this._level.toString())}},{key:"score",get:function(){return this._score}},{key:"level",get:function(){return this._level}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function c(t){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c(t)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,(o=r.key,i=void 0,i=function(t,e){if("object"!==c(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(o,"string"),"symbol"===c(i)?i:String(i)),r)}var o,i}var v={ArrowUp:{x:0,y:-1,turnAround:["ArrowDown","Down"]},Up:{x:0,y:-1,turnAround:["ArrowDown","Down"]},ArrowDown:{x:0,y:1,turnAround:["ArrowUp","Up"]},Down:{x:0,y:1,turnAround:["ArrowUp","Up"]},ArrowLeft:{x:-1,y:0,turnAround:["ArrowRight","Right"]},Left:{x:-1,y:0,turnAround:["ArrowRight","Right"]},ArrowRight:{x:1,y:0,turnAround:["ArrowLeft","Left"]},Right:{x:1,y:0,turnAround:["ArrowLeft","Left"]}};new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.direction="",this.runTimer=NaN,this.isAlive=!0,this.snake=new i,this.food=new l,this.scorePanel=new y(10,10),this.init()}var e,n,r;return e=t,(n=[{key:"init",value:function(){document.querySelector("body").addEventListener("keydown",this.keydownHandler.bind(this)),this.run()}},{key:"keydownHandler",value:function(t){Object.keys(v).some((function(e){return e===t.key}))&&this.direction!==t.key&&(this.direction&&this.snake.body.length>1&&this.isTurnAround(this.direction,t.key)||(this.direction=t.key))}},{key:"run",value:function(){var t=this;if(!Number.isNaN(this.runTimer)&&clearTimeout(this.runTimer),v.hasOwnProperty(this.direction)){var e=this.snake.position,n=e.x,r=e.y,o=v[this.direction],i=n+10*o.x,u=r+10*o.y;this.isEatFood({x:i,y:u})&&(this.snake.grow(),this.food.changePosition(),this.scorePanel.addScore()),this.isHitWall({x:i,y:u})||this.snake.isHeadCollideBody({x:i,y:u})?(this.isAlive=!1,console.log("Game Over")):this.snake.position={x:i,y:u}}this.isAlive&&(this.runTimer=setTimeout((function(){t.run()}),300-30*(this.scorePanel.level-1)))}},{key:"isHitWall",value:function(t){var e=t.x,n=t.y;return n<0||n>290||e<0||e>290}},{key:"isEatFood",value:function(t){var e=t.x,n=t.y,r=this.food.position,o=r.x,i=r.y;return e===o&&n===i}},{key:"isTurnAround",value:function(t,e){return v[t].turnAround.some((function(t){return t===e}))}}])&&h(e.prototype,n),r&&h(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}())}},function(t){t.O(0,[716],(function(){return e=1087,t(t.s=e);var e}));t.O()}]);